<project default="build" basedir=".">
  <!-- Generic build file used by core developper -->

  <!-- Initializes properties -->
  <target name="init">
    <!-- Initialize the environment properties, use ${env.name} -->
    <property environment="env"/>
  
    <!-- Detect cygwin unix emulation on windows-->
    <condition property="cygwin32">
      <equals arg1="${env.OSTYPE}" arg2="cygwin32"/>
    </condition >

    <!-- Detect NT familly OS -->
    <condition property="nt">
      <os family="windows"/>
    </condition >

    <!-- Get the user defined properties from file -->
    <property file="build.properties"/>

    <!-- Initialize the directory structure properties -->
    <property name="src.dir" location="."/>
    <property name="obj.dir" location="../classes"/>
    <property name="lib.dir" location="../lib"/>
    <property name="build.dir" location="../build"/>
    <property name="ship.dir" location="../ship"/>
    <property name="doc.dir" location="../apidoc"/>
  </target>


  <!-- Verify dependancies between properties -->
  <target name="verify" depends="init">
    <condition property="services">
      <or>
        <equals arg1="${netwall}" arg2="true"/>
        <equals arg1="${paf}" arg2="true"/>
        <equals arg1="${tools}" arg2="true"/>
        <equals arg1="${control}" arg2="true"/>
        <equals arg1="${umts}" arg2="true"/>
      </or>
    </condition >
    <condition property="model">
      <or>
        <equals arg1="${netwall}" arg2="true"/>
        <equals arg1="${paf}" arg2="true"/>
        <equals arg1="${control}" arg2="true"/>
        <equals arg1="${tools}" arg2="true"/>
        <equals arg1="${services}" arg2="true"/>        
        <equals arg1="${umts}" arg2="true"/>
      </or>
    </condition >
  </target>

  <!-- Initialize patternset and path, defines fileset to compile -->
  <target name="init.src">
    <!-- Create the time stamp -->
    <tstamp/>
    
    <!-- Base AgentServer sources set -->
    <patternset id="base">
      <include name="fr/dyade/aaa/util/*.java"/>
      <include name="fr/dyade/aaa/agent/*.java"/>
      <exclude name="fr/dyade/aaa/agent/SSLNetwork.java" unless="security"/>
      <include name="fr/dyade/aaa/ip/*.java"/>
    </patternset>

    <!-- Classic AgentServer extensions sources set -->
    <patternset id="extension">
      <include name="fr/dyade/aaa/task/*.java"/>
      <include name="fr/dyade/aaa/ns/*.java"/>
      <include name="fr/dyade/aaa/jndi/*.java"/>
      <include name="fr/dyade/aaa/scbean/*.java"/>
    </patternset>

    <!-- Netwall log managment specific sources set -->
    <patternset id="netwall">
      <include name="fr/dyade/aaa/ar/*.java" if="netwall"/>
      <include name="fr/dyade/aaa/nw/ar/*.java" if="netwall"/>
      <include name="fr/dyade/aaa/config/*.java" if="netwall"/>
      <include name="fr/dyade/aaa/config/corba/*.java" if="netwall"/>
      <exclude name="fr/dyade/aaa/config/corba/*.java" unless="c3ds"/>
      <include name="fr/dyade/aaa/tools/gdt/*.java" if="netwall"/>
    </patternset>

    <!-- PAF specific sources set -->
    <patternset id="paf">
      <include name="fr/dyade/aaa/ar/*.java" if="paf"/>
      <include name="fr/dyade/aaa/paf/*.java" if="paf"/>
      <exclude name="fr/dyade/aaa/paf/LexerSymbols.java"/>
      <exclude name="fr/dyade/aaa/paf/LexerParser.java"/>
      <exclude name="fr/dyade/aaa/paf/Lexer.java"/>
      <include name="fr/dyade/aaa/tools/paf/*.java" if="paf"/>
      <include name="com/scalagent/paf/admin/*.java" if="paf"/>
      <exclude name="com/scalagent/paf/admin/WebPortalService.java" unless="nt"/>
    </patternset>

    <!-- Joram specific sources set -->
    <patternset id="joram">
      <include name="fr/dyade/aaa/mom/*.java" if="jms"/>
      <include name="fr/dyade/aaa/mom/selectors/*.java" if="jms"/>
      <include name="fr/dyade/aaa/joram/*.java" if="jms"/>
    </patternset>

    <!-- Olan model specific sources set -->
    <patternset id="model">
      <include name="fr/dyade/aaa/model/*.java" if="model"/>
      <exclude name="fr/dyade/aaa/model/A3InputService.java"/>
      <exclude name="fr/dyade/aaa/model/A3OutputService.java"/>
      <exclude name="fr/dyade/aaa/model/CorbaInputService.java"/>
      <exclude name="fr/dyade/aaa/model/CorbaOutputService.java"/>
      <exclude name="fr/dyade/aaa/model/ImplemDecoration.java"/>
      <exclude name="fr/dyade/aaa/model/CorbaObject.java"/>
      <include name="fr/dyade/aaa/model/instru/*.java" if="model"/>
      <include name="fr/dyade/aaa/model/ejb/*.java" if="model"/>
      <exclude name="fr/dyade/aaa/model/ejb/*.java" unless="j2ee"/>
    </patternset>

    <!-- Services specific sources set -->
    <patternset id="services">
      <include name="fr/dyade/aaa/proxy/jndi/*.java" if="services"/>
      <include name="fr/dyade/aaa/services/generation/*.java" if="services"/>
      <exclude name="fr/dyade/aaa/services/generation/A3InputServiceGenerator.java"/>
      <exclude name="fr/dyade/aaa/services/generation/A3OutputServiceGenerator.java"/>
      <exclude name="fr/dyade/aaa/services/generation/CorbaProxyAgentDUObject.java"/>
      <exclude name="fr/dyade/aaa/services/generation/CorbaProxyAgentGenerator.java"/>
      <include name="fr/dyade/aaa/services/generation/ejb/*.java" if="services"/>
      <exclude name="fr/dyade/aaa/services/generation/ejb/*.java" unless="j2ee"/>
      <include name="fr/dyade/aaa/services/conf/*.java" if="services"/>
      <include name="fr/dyade/aaa/services/management/*.java" if="services"/>
      <include name="fr/dyade/aaa/services/innerTask/*.java" if="services"/>
      <include name="fr/dyade/aaa/services/session/*.java" if="services"/>
      <include name="fr/dyade/aaa/services/ctrl/*.java" if="services"/>
      <include name="fr/dyade/aaa/services/ctrl/progress/*.java" if="services"/>
      <include name="fr/dyade/aaa/services/ctrl/proxy/*.java" if="services"/>
      <include name="fr/dyade/aaa/services/ctrl/rep/*.java" if="services"/>
      <include name="fr/dyade/aaa/services/ctrl/sys/*.java" if="services"/>
      <include name="fr/dyade/aaa/control/*.java" if="services"/>
      <include name="fr/dyade/aaa/control/impl/*.java" if="services"/>
    </patternset>

    <!-- Tools specific sources set -->
    <patternset id="tools">
      <include name="fr/dyade/aaa/beans/util/*.java" if="tools"/>
      <include name="fr/dyade/aaa/beans/editors/*.java" if="tools"/>
      <include name="fr/dyade/aaa/beans/monitoring/*.java" if="tools"/>
      <include name="fr/dyade/aaa/tools/util/*.java" if="tools"/>
      <include name="fr/dyade/aaa/tools/arigen/*.java" if="tools"/>
      <exclude name="fr/dyade/aaa/tools/arigen/*.java" unless="ari"/>
      <include name="fr/dyade/aaa/tools/gct/*.java" if="tools"/>
      <exclude name="fr/dyade/aaa/tools/gct/ConnectionGrapRep.java"/>
      <exclude name="fr/dyade/aaa/tools/gct/CompPropertiesController.java"/>
      <exclude name="fr/dyade/aaa/tools/gct/PropertySheet.java"/>
      <include name="fr/dyade/aaa/tools/gbt/*.java" if="tools"/>
      <exclude name="fr/dyade/aaa/tools/gbt/PropertiesController.java"/>
      <exclude name="fr/dyade/aaa/tools/gbt/PropertiesView.java"/>
      <exclude name="fr/dyade/aaa/tools/gbt/ImplemDecorator.java"/>
      <exclude name="fr/dyade/aaa/tools/gbt/PrimitiveComponentBuilderView.java"/>
      <include name="fr/dyade/aaa/tools/gbt/ejb/*.java" if="tools"/>
      <exclude name="fr/dyade/aaa/tools/gbt/ejb/*.java" unless="j2ee"/>
      <include name="fr/dyade/aaa/tools/vmc/*.java" if="tools"/>
      <include name="fr/dyade/aaa/tools/ctrl/*.java" if="tools"/>
    </patternset>

    <!-- UMTS specific sources set -->
    <patternset id="umts">
      <include name="com/scalagent/umts/oam/agent/*.java" if="umts"/>
    </patternset>

    <!-- Base classpath needed for execution -->
    <path id="base.class.path">
      <pathelement path="${java.class.path}/"/>
      <fileset dir="${lib.dir}">
        <include name="OB.jar"/>
        <include name="OBNaming.jar"/>
        <include name="j2ee.jar" if="j2ee"/>
        <include name="jakarta-regexp-1.2.jar"/>
        <include name="jms.jar" if="jms"/>
        <include name="jndi.jar"/>
        <include name="jnet.jar" if="security"/>
        <include name="jsse.jar" if="security"/>
        <include name="jcert.jar" if="security"/>
        <include name="jta-spec1_0_1.jar"/>
        <include name="log4j.jar"/>
        <include name="owlogapi.jar"/>
        <include name="owlogwrpl4j.jar"/>
        <include name="xerces.jar"/>
        <include name="service.jar" if="paf"/>
        <exclude name="service.jar" unless="nt"/>
      </fileset>
    </path>

    <!-- Project classpath needed for compilation -->
    <path id="project.class.path">
      <path refid="base.class.path"/>
      <pathelement path="${obj.dir}"/>
      <pathelement path="${additional.path}"/>
    </path>
  </target>

  <!-- Clean all generated files -->
  <target name="clean" depends="init">
    <delete dir="${obj.dir}"/>
    <delete dir="${build.dir}"/>
    <delete dir="${ship.dir}"/>
    <delete dir="${doc.dir}"/>
    <!-- Deletes bad files in src directory tree -->
  </target>

  <!-- Prepare compilation phase -->
  <target name="prepare" depends="verify,init.src">
    <!-- Create the directory structure -->
    <mkdir dir="${obj.dir}"/>
    <mkdir dir="${build.dir}"/>
    <mkdir dir="${doc.dir}"/>
  </target>

  <target name="compile" depends="prepare">
    <javac srcdir="${src.dir}:${obj.dir}"
           destdir="${obj.dir}"
           debug="true"
           deprecation="${deprecation}"
           optimize="false"
           nowarn="${nowarn}"
           verbose="${verbose}">

      <classpath refid="project.class.path"/>

      <patternset refid="base"/>
      <patternset refid="extension"/>
      <patternset refid="netwall"/>
      <patternset refid="paf"/>
      <patternset refid="joram"/>
      <patternset refid="umts"/>
      <include name="fr/dyade/aaa/proxy/*.java"/>
      <include name="fr/dyade/aaa/ejb/*.java" if="j2ee"/>
      <patternset refid="model"/>
      <patternset refid="services"/>
      <patternset refid="tools"/>
      <exclude name="fr/dyade/aaa/**/tests/**/*"/>
    </javac>
  </target>

  <target name="javadoc" depends="prepare">
    <javadoc sourcepath="${src.dir}"
             destdir="${doc.dir}"
             access="${doc.access}"
             version="${doc.version}"
             author="${doc.author}"
             windowtitle="${doc.name} API"
             doctitle="${doc.name}"
             bottom="Copyright &#xA9; 2001 Scalagent - All rights reserved">
      <package name="fr.dyade.aaa.util"/>
      <package name="fr.dyade.aaa.agent"/>
      <package name="fr.dyade.aaa.ip"/>
<!--      <package name="fr.dyade.aaa.scbean"/>
      <package name="fr.dyade.aaa.task"/>
      <package name="fr.dyade.aaa.ns"/>-->
      <package name="fr.dyade.aaa.jndi"/>
<!--      <package name="fr.dyade.aaa.proxy.jndi"/>-->
      <package name="fr.dyade.aaa.joram"/>
      <package name="fr.dyade.aaa.mom"/>
    </javadoc>
  </target>

  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
     - Joram specific build target
     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <target name="build.joram" depends="init.joram,compile">
    <!-- Build specific jar file -->
    <jar jarfile="${build.dir}/joram.jar">
      <fileset dir="${obj.dir}">
        <include name="fr/dyade/aaa/util/*.class"/>
        <include name="fr/dyade/aaa/agent/*.class"/>
        <include name="fr/dyade/aaa/ip/*.class"/>
        <include name="fr/dyade/aaa/scbean/*.class"/>
        <include name="fr/dyade/aaa/task/*.class"/>
        <include name="fr/dyade/aaa/ns/*.class"/>
        <include name="fr/dyade/aaa/jndi/*.class"/>
        <include name="fr/dyade/aaa/mom/*.class"/>
        <include name="fr/dyade/aaa/mom/selectors/*.class"/>
        <include name="fr/dyade/aaa/joram/*.class"/>
        <exclude name="fr/dyade/aaa/**/tests/**/*.class"/>
      </fileset>
    </jar>
  </target>

  <!-- Specific Joram shipment -->
  <target name="ship.joram" depends="clean,build.joram">
    <mkdir dir="${ship.dir}"/>
    <!-- lib directory -->
    <mkdir dir="${ship.dir}/lib"/>
    <copy file="${build.dir}/joram.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/jms.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/jta-spec1_0_1.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/log4j.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/owlogapi.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/owlogwrpl4j.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/jakarta-regexp-1.2.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/xerces.jar" todir="${ship.dir}/lib"/>
    <!-- run directory -->
    <mkdir dir="${ship.dir}/dtd"/>
    <copy file="${src.dir}/fr/dyade/aaa/agent/a3config.dtd"
          todir="${ship.dir}/dtd"/>
    <chmod dir="${ship.dir}/dtd" perm="755"/>
    <!-- licences directory -->
    <mkdir dir="${ship.dir}/licences"/>
    <copy todir="${ship.dir}/licences" flatten="yes">
      <fileset dir="${src.dir}">
        <include name="licenses/XERCES_LICENSE.TXT"/>
        <include name="licenses/JAKARTA-REGEXP_LICENSE.TXT"/>
        <include name="licenses/JORAM_LICENSE.TXT"/>
        <include name="licenses/Opl_1_0.TXT"/>
        <include name="licenses/EXHIBIT_A.TXT"/>
      </fileset>
    </copy>

  </target>

  <target name="init.joram" depends="init">
     <!-- Overload jms property -->
    <property name="jms" value="true"/>
  </target>

  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
     - Netwall log managment specific build target
     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <target name="build.netwall" depends="init.netwall,javacc.ar,compile">
    <!-- Build specific jar file -->
    <jar jarfile="${build.dir}/netwall.jar">
      <fileset dir="${obj.dir}">
        <include name="fr/dyade/aaa/util/*.class"/>
        <include name="fr/dyade/aaa/agent/*.class"/>
        <include name="fr/dyade/aaa/ip/*.class"/>
        <include name="fr/dyade/aaa/scbean/*.class"/>
        <include name="fr/dyade/aaa/task/*.class"/>
        <include name="fr/dyade/aaa/ns/*.class"/>
        <include name="fr/dyade/aaa/model/**/*.class"/>
        <include name="fr/dyade/aaa/config/**/*.class"/>
        <include name="fr/dyade/aaa/ar/*.class"/>
        <include name="fr/dyade/aaa/nw/ar/*.class"/>
        <!-- excludes configuration classes -->
        <exclude name="fr/dyade/aaa/nw/ar/NWConfiguration.class"/>
        <exclude name="fr/dyade/aaa/nw/ar/NWConfProducer.class"/>
        <exclude name="fr/dyade/aaa/nw/ar/NWConfArchive.class"/>
        <exclude name="fr/dyade/aaa/nw/ar/NWConfOMReport.class"/>
        <exclude name="fr/dyade/aaa/nw/ar/NWConfExcel.class"/>
        <exclude name="fr/dyade/aaa/nw/ar/NWConfWatch.class"/>
        <exclude name="fr/dyade/aaa/**/tests/**/*.class"/>
        <include name="fr/dyade/aaa/services/generation/*.class"/>
        <include name="fr/dyade/aaa/services/conf/*.class"/>
        <include name="fr/dyade/aaa/tools/gdt/*.class"/>
      </fileset>
    </jar>

    <!-- Build configurations -->
    <java classname="fr.dyade.aaa.nw.ar.NWConfiguration"
          failonerror="yes" fork="yes"
          dir="${build.dir}">
       <classpath>
         <path refid="project.class.path"/>
       </classpath>
    </java>
    <java classname="fr.dyade.aaa.nw.ar.NWConfProducer"
          failonerror="yes" fork="yes"
          dir="${build.dir}">
       <classpath>
         <path refid="project.class.path"/>
       </classpath>
    </java>
    <java classname="fr.dyade.aaa.nw.ar.NWConfArchive"
          failonerror="yes" fork="yes"
          dir="${build.dir}">
       <classpath>
         <path refid="project.class.path"/>
       </classpath>
    </java>
    <java classname="fr.dyade.aaa.nw.ar.NWConfOMReport"
          failonerror="yes" fork="yes"
          dir="${build.dir}">
       <classpath>
         <path refid="project.class.path"/>
       </classpath>
    </java>
    <java classname="fr.dyade.aaa.nw.ar.NWConfExcel"
          failonerror="yes" fork="yes"
          dir="${build.dir}">
       <classpath>
         <path refid="project.class.path"/>
       </classpath>
    </java>
    <java classname="fr.dyade.aaa.nw.ar.NWConfWatch"
          failonerror="yes" fork="yes"
          dir="${build.dir}">
       <classpath>
         <path refid="project.class.path"/>
       </classpath>
    </java>

    <!-- Build deployment scripts -->
    <java classname="fr.dyade.aaa.tools.gdt.DTool"
          failonerror="yes" fork="yes"
          dir="${build.dir}">
      <classpath>
        <path refid="project.class.path"/>
      </classpath>
      <jvmarg value="-DGDT_FMT=XML"/>
      <arg line="-cs ExcelCentral.config"/>
    </java>
    <java classname="fr.dyade.aaa.tools.gdt.DTool"
          failonerror="yes" fork="yes"
          dir="${build.dir}">
      <classpath>
        <path refid="project.class.path"/>
      </classpath>
      <jvmarg value="-DGDT_FMT=XML"/>
      <arg line="-cs ExcelLocal.config"/>
    </java>
    <java classname="fr.dyade.aaa.tools.gdt.DTool"
          failonerror="yes" fork="yes"
          dir="${build.dir}">
      <classpath>
        <path refid="project.class.path"/>
      </classpath>
      <jvmarg value="-DGDT_FMT=XML"/>
      <arg line="-cs watchCentral.config"/>
    </java>
    <java classname="fr.dyade.aaa.tools.gdt.DTool"
          failonerror="yes" fork="yes"
          dir="${build.dir}">
      <classpath>
        <path refid="project.class.path"/>
      </classpath>
      <jvmarg value="-DGDT_FMT=XML"/>
      <arg line="-cs watchLocal.config"/>
    </java>
    <java classname="fr.dyade.aaa.tools.gdt.DTool"
          failonerror="yes" fork="yes"
          dir="${build.dir}">
      <classpath>
        <path refid="project.class.path"/>
      </classpath>
      <jvmarg value="-DGDT_FMT=XML"/>
      <arg line="-cs watchOracle.config"/>
    </java>
    <java classname="fr.dyade.aaa.tools.gdt.DTool"
          failonerror="yes" fork="yes"
          dir="${build.dir}">
      <classpath>
        <path refid="project.class.path"/>
      </classpath>
      <jvmarg value="-DGDT_FMT=XML"/>
      <arg line="-cs OMReportCentral.config"/>
    </java>
    <java classname="fr.dyade.aaa.tools.gdt.DTool"
          failonerror="yes" fork="yes"
          dir="${build.dir}">
      <classpath>
        <path refid="project.class.path"/>
      </classpath>
      <jvmarg value="-DGDT_FMT=XML"/>
      <arg line="-cs OMReportLocal.config"/>
    </java>
    <java classname="fr.dyade.aaa.tools.gdt.DTool"
          failonerror="yes" fork="yes"
          dir="${build.dir}">
      <classpath>
        <path refid="project.class.path"/>
      </classpath>
      <jvmarg value="-DGDT_FMT=XML"/>
      <arg line="-cs producer.config"/>
    </java>
    <java classname="fr.dyade.aaa.tools.gdt.DTool"
          failonerror="yes" fork="yes"
          dir="${build.dir}">
      <classpath>
        <path refid="project.class.path"/>
      </classpath>
      <jvmarg value="-DGDT_FMT=XML"/>
      <arg line="-cs multiProducer.config"/>
    </java>
    <java classname="fr.dyade.aaa.tools.gdt.DTool"
          failonerror="yes" fork="yes"
          dir="${build.dir}">
      <classpath>
        <path refid="project.class.path"/>
      </classpath>
      <jvmarg value="-DGDT_FMT=XML"/>
      <arg line="-cs archive.config"/>
    </java>
  </target>

  <!-- Specific Netwall shipment -->
  <target name="ship.netwall" depends="clean,build.netwall">
    <mkdir dir="${ship.dir}"/>
    <!-- lib directory -->
    <mkdir dir="${ship.dir}/lib"/>
    <copy file="${build.dir}/netwall.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/log4j.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/owlogapi.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/owlogwrpl4j.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/jakarta-regexp-1.2.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/xerces.jar" todir="${ship.dir}/lib"/>
    <!-- bin directory -->
    <mkdir dir="${ship.dir}/bin"/>
    <copy todir="${ship.dir}/bin" flatten="yes">
      <fileset dir="${src.dir}">
        <include name="fr/dyade/aaa/nw/ar/nwlogs.sh"/>
        <include name="fr/dyade/aaa/nw/ar/makeNetwallLogTable.sql"/>
      </fileset>
    </copy>
    <chmod dir="${ship.dir}/bin" perm="755"/>
    <!-- run directory -->
    <mkdir dir="${ship.dir}/run"/>
    <copy file="${src.dir}/fr/dyade/aaa/agent/a3config.dtd"
          todir="${ship.dir}/run"/>
    <chmod dir="${ship.dir}/run" perm="755"/>
    <copy todir="${ship.dir}/run" flatten="yes">
      <fileset dir="${build.dir}">
        <include name="*.dsc"/>
      </fileset>
    </copy>
    <copy todir="${ship.dir}/run" flatten="yes">
      <fileset dir="${src.dir}">
        <include name="${build.dir}/*.dsc"/>
        <include name="fr/dyade/aaa/nw/ar/*.prop"/>
        <include name="fr/dyade/aaa/nw/ar/*.html"/>
      </fileset>
    </copy>
    <!-- licences directory -->
    <mkdir dir="${ship.dir}/licences"/>
    <copy todir="${ship.dir}/licences" flatten="yes">
      <fileset dir="${src.dir}">
        <include name="licenses/XERCES_LICENSE.TXT"/>
        <include name="licenses/JAKARTA-REGEXP_LICENSE.TXT"/>
      </fileset>
    </copy>
  </target>

  <target name="init.netwall" depends="init">
     <!-- Overload netwall property -->
    <property name="netwall" value="true"/>
  </target>

  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
     - PAF specific build target
     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <target name="build.paf" depends="init.paf,javacc.ar,compile">
    <!-- Build webportal jar (used at exec time) -->
    <jar jarfile="${build.dir}/webportal.jar">
      <fileset dir="${obj.dir}">
        <include name="fr/dyade/aaa/util/*.class"/>
        <include name="fr/dyade/aaa/agent/*.class"/>
        <include name="fr/dyade/aaa/ip/*.class"/>
        <include name="fr/dyade/aaa/scbean/*.class"/>
        <include name="fr/dyade/aaa/task/*.class"/>
        <include name="fr/dyade/aaa/ns/*.class"/>
        <include name="fr/dyade/aaa/jndi/*.class"/>
        <include name="fr/dyade/aaa/ar/*.class"/>
        <include name="fr/dyade/aaa/paf/*.class"/>
        <include name="fr/dyade/aaa/model/*.class"/>
        <include name="fr/dyade/aaa/model/instru/*.class"/>
        <include name="fr/dyade/aaa/services/conf/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/rep/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/progress/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/sys/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/proxy/*.class"/>
        <include name="fr/dyade/aaa/services/generation/*.class"/>
        <include name="fr/dyade/aaa/services/session/*.class"/>
        <include name="fr/dyade/aaa/services/innerTask/*.class"/>
        <include name="fr/dyade/aaa/config/*.class"/>
        <include name="com/scalagent/paf/admin/*.class"/>
      </fileset>
    </jar>
    <!-- Build tool jar (used at configuration time) -->
    <jar jarfile="${build.dir}/tool.jar">
      <fileset dir="${obj.dir}">
        <include name="fr/dyade/aaa/beans/editors/*.class"/>
        <include name="fr/dyade/aaa/beans/util/*.class"/>
        <include name="fr/dyade/aaa/tools/util/*.class"/>
        <include name="fr/dyade/aaa/tools/gct/*.class"/>
        <include name="fr/dyade/aaa/tools/ctrl/*.class"/>
        <include name="fr/dyade/aaa/tools/paf/*.class"/>
        <include name="fr/dyade/aaa/services/conf/*.class"/>
      </fileset>
    </jar>
  </target>

  <target name="cup.unix.paf" unless="nt">
    <exec executable="sh" dir="${src.dir}/fr/dyade/aaa/paf">
      <arg value="-c"/>
      <arg value="java -cp ${jcup.jar} java_cup.Main -symbols LexerSymbols -parser LexerParser &lt; Lexer.cup"/>
    </exec>
  </target>

  <target name="cup.nt.paf" if="nt">
    <exec executable="cmd" dir="${src.dir}/fr/dyade/aaa/paf">
      <arg value="/c"/>
      <arg value="java -cp ${jcup.jar} java_cup.Main -symbols LexerSymbols -parser LexerParser &lt; Lexer.cup"/>
    </exec>
  </target>

  <target name="javacc.ar" depends="prepare">
    <mkdir dir="${obj.dir}/fr/dyade/aaa/ar/"/>
    <javacc target="${src.dir}/fr/dyade/aaa/ar/CorrelParser.jj"
            outputdirectory="${obj.dir}/fr/dyade/aaa/ar/"
            javacchome="${lib.dir}"/>
  </target>

  <!-- Specific WebPortal shipment -->
  <target name="ship.paf" depends="clean,build.paf,nt.service.paf">
    <mkdir dir="${ship.dir}"/>
    <!-- lib directory -->
    <mkdir dir="${ship.dir}/lib"/>
    <copy file="${build.dir}/webportal.jar" todir="${ship.dir}/lib"/>
    <copy file="${build.dir}/tool.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/log4j.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/owlogapi.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/owlogwrpl4j.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/jakarta-regexp-1.2.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/xerces.jar" todir="${ship.dir}/lib"/>
    <!-- bin directory -->
    <mkdir dir="${ship.dir}/bin"/>
    <copy todir="${ship.dir}/bin" flatten="yes">
      <fileset dir="${src.dir}">
        <include name="com/scalagent/paf/admin/startTool.sh"/>
        <include name="com/scalagent/paf/admin/paf.sh"/>
        <include name="com/scalagent/paf/admin/info_disk.sh"/>
        <include name="com/scalagent/paf/admin/scalagent.conf"/>
        <include name="classes/WebPortalService.exe"/>
      </fileset>
    </copy>
    <chmod dir="${ship.dir}/bin" perm="755"/>
    <!-- tool directory -->
    <mkdir dir="${ship.dir}/tool"/>
    <copy todir="${ship.dir}/tool" flatten="yes">
      <fileset dir="${src.dir}">
        <include name="fr/dyade/aaa/services/generation/xolan.dtd"/>
        <include name="fr/dyade/aaa/tools/paf/template.model"/>
      </fileset>
    </copy>
    <chmod dir="${ship.dir}/tool" perm="755"/>
    <mkdir dir="${ship.dir}/tool/icons"/>
    <copy todir="${ship.dir}/tool/icons" flatten="yes">
      <fileset dir="${src.dir}">
        <include name="fr/dyade/aaa/beans/icons/*.gif"/>
        <include name="fr/dyade/aaa/tools/paf/icons/*.gif"/>
      </fileset>
    </copy>
    <!-- run directory -->
    <mkdir dir="${ship.dir}/run"/>
    <copy file="${src.dir}/fr/dyade/aaa/agent/a3config.dtd"
          todir="${ship.dir}/run"/>
    <chmod dir="${ship.dir}/run" perm="755"/>
    <!-- licences directory -->
    <mkdir dir="${ship.dir}/licences"/>
    <copy todir="${ship.dir}/licences" flatten="yes">
      <fileset dir="${src.dir}">
        <include name="licenses/XERCES_LICENSE.TXT"/>
        <include name="licenses/JAKARTA-REGEXP_LICENSE.TXT"/>
      </fileset>
    </copy>
    <!-- images directory -->
    <mkdir dir="${ship.dir}/images"/>
    <copy todir="${ship.dir}/images" flatten="yes">
      <fileset dir="${src.dir}">
        <include name="fr/dyade/aaa/tools/paf/icons/WPAFicone.gif"/>
        <include name="fr/dyade/aaa/tools/paf/icons/WPAFMainScreen.jpg"/>
      </fileset>
    </copy>
    <!-- doc directory -->
    <mkdir dir="${ship.dir}/doc"/>
    <copy todir="${ship.dir}/doc">
      <fileset dir="doc/WebPortal">
        <exclude name="5_010628-WPAFTUTORIAL-MAQUETTE.DOC"/>
      </fileset>
    </copy>
  </target>

  <target name="nt.service.paf" if="nt">
    <exec executable="${lib.dir}/jntsvc.exe" dir="${obj.dir}">
      <arg value="/svcmain:com.scalagent.paf.admin.WebPortalService"/>
      <arg value="/OUT:WebPortalService.exe"/>
      <arg value="/eventsource:WebPortalService"/>
      <arg value="/DISPLAYNAME:WebPortalService"/>
      <arg value="com\\scalagent\\paf\\admin\\WebPortalService.class"/>
      <arg value="com\\scalagent\\paf\\admin\\ServerThread.class"/>
      <arg value="com\\scalagent\\paf\\admin\\TransientThread.class"/>
      <arg value="com\\scalagent\\paf\\admin\\AgentControlService.class"/>
    </exec>
  </target>

  <target name="init.paf" depends="init">
     <!-- Overload paf property -->
    <property name="paf" value="true"/>
    <property name="tools" value="true"/>

    <property name="jflex.jar" location="${lib.dir}/JFlex.jar"/>
  </target>

  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
     - Specific A3 build target.
     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <target name="build.a3" depends="init.a3,compile">
    <!-- Build agent server jar file -->
    <jar jarfile="${build.dir}/a3server.jar">
      <fileset dir="${obj.dir}">
        <include name="fr/dyade/aaa/util/*.class"/>
        <include name="fr/dyade/aaa/agent/*.class"/>
        <include name="fr/dyade/aaa/ip/*.class"/>
        <include name="fr/dyade/aaa/scbean/*.class"/>
        <include name="fr/dyade/aaa/task/*.class"/>
        <include name="fr/dyade/aaa/ns/*.class"/>
        <include name="fr/dyade/aaa/jndi/*.class"/>
        <exclude name="fr/dyade/aaa/**/tests/**/*.class"/>
      </fileset>
    </jar>
  </target>

  <!-- Specific A3 shipment -->
  <target name="ship.a3" depends="clean,build.a3">
    <mkdir dir="${ship.dir}"/>
    <!-- lib directory -->
    <mkdir dir="${ship.dir}/lib"/>
    <copy file="${build.dir}/a3server.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/log4j.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/owlogapi.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/owlogwrpl4j.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/xerces.jar" todir="${ship.dir}/lib"/>
    <!-- run directory -->
    <mkdir dir="${ship.dir}/run"/>
    <copy file="${src.dir}/fr/dyade/aaa/agent/a3config.dtd"
          todir="${ship.dir}/run"/>
    <chmod dir="${ship.dir}/run" perm="755"/>
    <!-- licences directory -->
    <mkdir dir="${ship.dir}/licences"/>
    <copy todir="${ship.dir}/licences" flatten="yes">
      <fileset dir="${src.dir}">
        <include name="licenses/XERCES_LICENSE.TXT"/>
        <include name="licenses/Opl_1_0.TXT"/>
        <include name="licenses/EXHIBIT_A.TXT"/>
      </fileset>
    </copy>
  </target>

  <target name="init.a3" depends="init">
  </target>

  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
     - Generic build target (all targets).
     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <target name="build.all" depends="init.all,javacc.ar,compile">
  </target>

  <target name="init.all" depends="init">
     <!-- Overload user-defined properties -->
    <property name="jms" value="true"/>
    <property name="netwall" value="true"/>
    <property name="paf" value="true"/>
    <property name="model" value="true"/>
    <property name="services" value="true"/>
    <property name="tools" value="true"/>
    <property name="umts" value="true"/>
  </target>

  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
     - User defined build target (see build.properties).
     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <target name="build" depends="compile">
    <!-- Build agent server jar file -->
    <jar jarfile="${build.dir}/a3server.jar">
      <fileset dir="${obj.dir}">
        <include name="fr/dyade/aaa/util/*.class"/>
        <include name="fr/dyade/aaa/agent/*.class"/>
        <include name="fr/dyade/aaa/ip/*.class"/>
        <include name="fr/dyade/aaa/scbean/*.class"/>
        <include name="fr/dyade/aaa/task/*.class"/>
        <include name="fr/dyade/aaa/ns/*.class"/>
        <include name="fr/dyade/aaa/jndi/*.class"/>
        <exclude name="fr/dyade/aaa/**/tests/**/*.class"/>
      </fileset>
    </jar>
  </target>

  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    - Control API specific build target
    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <target name="build.control" depends="init.control,compile">
    <!-- Build control jar (used by servers) -->
    <jar jarfile="${build.dir}/control.jar">
      <fileset dir="${obj.dir}">
        <include name="fr/dyade/aaa/util/*.class"/>
        <include name="fr/dyade/aaa/agent/*.class"/>
        <include name="fr/dyade/aaa/ip/*.class"/>
        <include name="fr/dyade/aaa/scbean/*.class"/>
        <include name="fr/dyade/aaa/task/*.class"/>
        <include name="fr/dyade/aaa/ns/*.class"/>
        <include name="fr/dyade/aaa/jndi/*.class"/>
        <include name="fr/dyade/aaa/model/*.class"/>
        <include name="fr/dyade/aaa/services/conf/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/rep/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/progress/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/sys/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/proxy/*.class"/>
        <include name="fr/dyade/aaa/services/generation/*.class"/>
        <include name="fr/dyade/aaa/services/session/*.class"/>
        <include name="fr/dyade/aaa/services/innerTask/*.class"/>
        <include name="fr/dyade/aaa/control/*.class"/>
        <include name="fr/dyade/aaa/control/impl/*.class"/>
        <include name="fr/dyade/aaa/proxy/jndi/*.class"/>
      </fileset>
    </jar>
    <!-- Build controlAPI jar (used by clients) -->
    <jar jarfile="${build.dir}/controlAPI.jar">
      <fileset dir="${obj.dir}">
        <include name="fr/dyade/aaa/util/*.class"/>
        <include name="fr/dyade/aaa/model/*.class"/>
        <include name="fr/dyade/aaa/services/conf/*.class"/>
        <include name="fr/dyade/aaa/services/generation/*.class"/>
        <include name="fr/dyade/aaa/control/*.class"/>
        <include name="fr/dyade/aaa/control/impl/*.class"/>
        <exclude name="fr/dyade/aaa/control/impl/ProxyServer.class"/>
      </fileset>
    </jar>
  </target>
  
  <target name="init.control" depends="init">
    <!-- Overload control property -->
    <property name="control" value="true"/>
  </target>

  <!-- Specific Control shipment -->
  <target name="ship.control" depends="clean,build.control">
    <mkdir dir="${ship.dir}"/>
    <!-- lib directory -->
    <mkdir dir="${ship.dir}/lib"/>    
    <copy file="${build.dir}/control.jar" todir="${ship.dir}/lib"/>
    <copy file="${build.dir}/controlAPI.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/log4j.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/owlogapi.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/owlogwrpl4j.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/xerces.jar" todir="${ship.dir}/lib"/>
    <!-- run directory -->
    <mkdir dir="${ship.dir}/run"/>
    <copy file="${src.dir}/fr/dyade/aaa/agent/a3config.dtd"
          todir="${ship.dir}/run"/>
    <copy file="${src.dir}/fr/dyade/aaa/services/generation/xolan.dtd"
          todir="${ship.dir}/run"/>
    <chmod dir="${ship.dir}/run" perm="755"/>
    <!-- licences directory -->
    <mkdir dir="${ship.dir}/licences"/>
    <copy todir="${ship.dir}/licences" flatten="yes">
      <fileset dir="${src.dir}">
        <include name="licenses/XERCES_LICENSE.TXT"/>
        <include name="licenses/Opl_1_0.TXT"/>
        <include name="licenses/EXHIBIT_A.TXT"/>
      </fileset>
    </copy>
  </target>

  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    - Tools API specific build target
    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <target name="build.tools" depends="init.tools,compile">
    <!-- Build sp jar (used by servers) -->
    <jar jarfile="${build.dir}/sp.jar">
      <fileset dir="${obj.dir}">
        <include name="fr/dyade/aaa/util/*.class"/>
        <include name="fr/dyade/aaa/agent/*.class"/>
        <include name="fr/dyade/aaa/ip/*.class"/>
        <include name="fr/dyade/aaa/scbean/*.class"/>
        <include name="fr/dyade/aaa/task/*.class"/>
        <include name="fr/dyade/aaa/ns/*.class"/>
        <include name="fr/dyade/aaa/jndi/*.class"/>
        <include name="fr/dyade/aaa/model/*.class"/>
        <include name="fr/dyade/aaa/model/instru/*.class"/>      
        <include name="fr/dyade/aaa/services/conf/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/rep/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/progress/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/sys/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/proxy/*.class"/>
        <include name="fr/dyade/aaa/services/generation/*.class"/>
        <include name="fr/dyade/aaa/services/session/*.class"/>
        <include name="fr/dyade/aaa/services/innerTask/*.class"/>
      </fileset>
    </jar>
    <!-- Build tools jar (used by clients) -->
    <jar jarfile="${build.dir}/tools.jar">
      <fileset dir="${obj.dir}">
        <include name="fr/dyade/aaa/beans/editors/*.class"/>
        <include name="fr/dyade/aaa/beans/util/*.class"/>
        <include name="fr/dyade/aaa/tools/util/*.class"/>
        <include name="fr/dyade/aaa/tools/gct/*.class"/>
        <include name="fr/dyade/aaa/tools/gbt/*.class"/>        
        <include name="fr/dyade/aaa/tools/ctrl/*.class"/>
      </fileset>
    </jar>
  </target>
  
  <target name="init.tools" depends="init">
    <!-- Overload control property -->
    <property name="tools" value="true"/>
  </target>

  <!-- Specific Tools shipment -->
  <target name="ship.tools" depends="clean,build.tools">
    <mkdir dir="${ship.dir}"/>
    <!-- lib directory -->
    <mkdir dir="${ship.dir}/lib"/>    
    <copy file="${build.dir}/sp.jar" todir="${ship.dir}/lib"/>
    <copy file="${build.dir}/tools.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/log4j.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/owlogapi.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/owlogwrpl4j.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/xerces.jar" todir="${ship.dir}/lib"/>
    <!-- run directory -->
    <mkdir dir="${ship.dir}/run"/>
    <copy file="${src.dir}/fr/dyade/aaa/agent/a3config.dtd"
          todir="${ship.dir}/run"/>
    <copy file="${src.dir}/fr/dyade/aaa/services/generation/xolan.dtd"
          todir="${ship.dir}/run"/>
    <chmod dir="${ship.dir}/run" perm="755"/>
    <!-- bin directory -->
    <mkdir dir="${ship.dir}/bin"/>
    <copy todir="${ship.dir}/bin" flatten="yes">
      <fileset dir="${src.dir}" >
        <include name="fr/dyade/aaa/tools/gct/cfg.sh"/>
        <include name="fr/dyade/aaa/tools/gct/cfg.bat"/>
        <include name="fr/dyade/aaa/tools/gbt/builder.sh"/>
        <include name="fr/dyade/aaa/tools/gbt/builder.bat"/>
        <include name="fr/dyade/aaa/tools/ctrl/ctrl.sh"/>
        <include name="fr/dyade/aaa/tools/ctrl/ctrl.bat"/>
        <include name="fr/dyade/aaa/services/generation/xolan.dtd"/>
      </fileset>
    </copy>
    <chmod dir="${ship.dir}/bin" perm="755"/>
    <mkdir dir="${ship.dir}/bin/icons"/>
    <copy todir="${ship.dir}/bin/icons" flatten="yes">
      <fileset dir="${src.dir}">
        <include name="fr/dyade/aaa/beans/icons/*.gif"/>
      </fileset>
    </copy>
    <chmod dir="${ship.dir}/bin/icons" perm="755"/>
    <!-- licences directory -->
    <mkdir dir="${ship.dir}/licences"/>
    <copy todir="${ship.dir}/licences" flatten="yes">
      <fileset dir="${src.dir}">
        <include name="licenses/XERCES_LICENSE.TXT"/>
        <include name="licenses/Opl_1_0.TXT"/>
        <include name="licenses/EXHIBIT_A.TXT"/>
      </fileset>
    </copy>
    <mkdir dir="${ship.dir}/classes"/>
  </target>

  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
     - UMTS specific build target
     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <target name="build.umts" depends="init.umts,compile">
    <!-- Build umts jar (used at exec time) -->
    <jar jarfile="${build.dir}/umts.jar">
      <fileset dir="${obj.dir}">
        <include name="fr/dyade/aaa/util/*.class"/>
        <include name="fr/dyade/aaa/agent/*.class"/>
        <include name="fr/dyade/aaa/ip/*.class"/>
        <include name="fr/dyade/aaa/scbean/*.class"/>
        <include name="fr/dyade/aaa/ns/*.class"/>
        <include name="fr/dyade/aaa/jndi/*.class"/>
        <include name="fr/dyade/aaa/model/*.class"/>
        <include name="fr/dyade/aaa/model/instru/*.class"/>
        <include name="fr/dyade/aaa/services/conf/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/rep/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/progress/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/sys/*.class"/>
        <include name="fr/dyade/aaa/services/ctrl/proxy/*.class"/>
        <include name="fr/dyade/aaa/services/generation/*.class"/>
        <include name="fr/dyade/aaa/services/session/*.class"/>
        <include name="fr/dyade/aaa/services/innerTask/*.class"/>
        <include name="fr/dyade/aaa/config/*.class"/>
        <include name="fr/dyade/aaa/beans/editors/*.class"/>
        <include name="fr/dyade/aaa/beans/util/*.class"/>
        <include name="fr/dyade/aaa/tools/util/*.class"/>
        <include name="fr/dyade/aaa/tools/gct/*.class"/>
        <include name="fr/dyade/aaa/tools/ctrl/*.class"/>
        <include name="fr/dyade/aaa/tools/paf/*.class"/>
        <include name="fr/dyade/aaa/services/conf/*.class"/>
        <include name="com/scalagent/umts/oam/agent/*.class"/>
      </fileset>
    </jar>
  </target>

  <!-- Specific UMTS shipment -->
  <target name="ship.umts" depends="clean,build.umts">
    <mkdir dir="${ship.dir}"/>
    <!-- lib directory -->
    <mkdir dir="${ship.dir}/lib"/>
    <copy file="${build.dir}/umts.jar" todir="${ship.dir}/lib/umts.jar"/>
    <copy file="${lib.dir}/log4j.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/owlogapi.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/owlogwrpl4j.jar" todir="${ship.dir}/lib"/>
    <copy file="${lib.dir}/xerces.jar" todir="${ship.dir}/lib"/>
  </target>
  <!-- init UMTS -->
  <target name="init.umts" depends="init">
     <!-- Overload umts property -->
    <property name="umts" value="true"/>
    <property name="tools" value="true"/>
  </target>

</project>
