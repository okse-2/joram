<?xml version="1.0" ?>
<!DOCTYPE article SYSTEM "/usr/share/sgml/docbook/dtd/4.2.cr1/docbook.dtd"> 
<article class="whitepaper">
  <articleinfo>
    <author>
      <firstname>Jeff</firstname>
      <surname>Mesnil</surname>
      <affiliation>
        <address><email>jmesnil@inrialpes.fr</email></address>
      </affiliation>
    </author>
    <title>JORAM Administration</title>
    <revhistory>
      <revision>
        <revnumber>0.1</revnumber>
        <date>2002-05-24</date>
        <revremark>first draft</revremark>
      </revision>
    </revhistory>   

    <abstract>
      <simpara>Describes JORAM administration.</simpara>
    </abstract>
  </articleinfo>
  
  <abstract>
    <para>JORAM is an Open Source JMS server. The administration step
      of JMS has been deliberately kept away from specifications due
      to the wide range of existing MOM products. Thus, there are no
      standard way to administrate JMS. The aim of this paper is to
      describe how this will be done in JORAM. It first states
      the requirements for JORAM administration, then it defines the
      main interfaces of it. Next it shows the internal architecture of
      administration in JORAM and finally describes the tools used to
      interact with it.</para>
  </abstract>
  
  <sect1>
    <title>Requirements</title>
    <abstract>
      <para>JORAM needs a new Administration process. The aim of this
        section is to describe what we mean by JORAM administration,
        what we expect from it and what we do not.</para>
    </abstract>
    <sect2>
      <title>Administration</title>
      <para>TODO (what do we mean by "administration",
      difference/comparison with monitoring/management)</para>
    </sect2>
    <sect2>
      <title>What Administration include</title>
      <sect3>
        <title>Connection to a server</title>
        <para>JORAM administration should be able to
          <itemizedlist>
            <listitem>
              <simpara><emphasis role="strong">connect to a
                  server</emphasis> given a server URL and a
                login/password to authenticate the 
                administrator</simpara>             
            </listitem>
            <listitem>
              <simpara><emphasis
                  role="strong">disconnect</emphasis> 
                from a previously connected server</simpara> 
            </listitem>
          </itemizedlist>
        </para>
      </sect3>
      <sect3>
        <title>Users actions</title>
        <para>Once connected to a server, an administrator may
          <itemizedlist>
            <listitem>
              <simpara><emphasis
                  role="strong">create/retrieve/delete</emphasis> a
                <emphasis role="strong">user</emphasis></simpara>
            </listitem>
            <listitem>
              <simpara><emphasis role="strong">test
                  existence</emphasis> of a given <emphasis
                  role="strong">user</emphasis></simpara> 
            </listitem>
          </itemizedlist>
        </para>
      </sect3>
      <sect3>
        <title>Destination actions</title>
        <itemizedlist>
          <listitem>
            <simpara><emphasis
                role="strong">create/retrieve/delete</emphasis> a
              <emphasis role="strong">queue</emphasis></simpara>
          </listitem>
          <listitem>
            <simpara><emphasis
                role="strong">create/retrieve/delete</emphasis> a
              <emphasis role="strong">topic</emphasis></simpara>
          </listitem>
          <listitem>
            <simpara><emphasis
                role="strong">get names</emphasis> of all
              <emphasis role="strong">queues</emphasis></simpara>
          </listitem>
          <listitem>
            <simpara><emphasis
                role="strong">get names</emphasis> of all
              <emphasis role="strong">topics</emphasis></simpara>
          </listitem>          
          <listitem>
            <simpara><emphasis
                role="strong">get names</emphasis> of all
              <emphasis role="strong">destinations</emphasis></simpara>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">test existence</emphasis>
              of a given <emphasis role="strong">destination</emphasis></simpara>
          </listitem>
        </itemizedlist>
      </sect3>
      <sect3>
        <title>Destination factories actions</title>
        <itemizedlist>
          <listitem>
            <simpara><emphasis
                role="strong">create/retrieve/delete</emphasis> a
              <emphasis role="strong">queue connection
                factories</emphasis></simpara> 
          </listitem>
          <listitem>
            <simpara><emphasis
                role="strong">create/retrieve/delete</emphasis> a
              <emphasis role="strong">topic connection
                factories</emphasis></simpara> 
          </listitem>          
          <listitem>
            <simpara><emphasis role="strong">get names</emphasis> of
              all <emphasis role="strong">queue connection
                factories</emphasis></simpara> 
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">get names</emphasis> of
              all <emphasis role="strong">topic connection
                factories</emphasis></simpara> 
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">get names</emphasis> of
              all <emphasis role="strong">destination connection
                factories</emphasis></simpara> 
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">test existence</emphasis> of
              a <emphasis role="strong">destination connection
                factory</emphasis></simpara> 
          </listitem>
        </itemizedlist>
      </sect3>
      <sect3>
        <title>Rights actions</title>
        <itemizedlist>
          <listitem>
            <simpara><emphasis role="strong">set/unset read</emphasis> right
              for a given <emphasis role="strong">user</emphasis> 
              on a given <emphasis role="strong">destination</emphasis> </simpara>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">set/unset read</emphasis> right
              on a given <emphasis
                role="strong">destination</emphasis> for all
              users</simpara> 
          </listitem>
          <listitem>
            <simpara><emphasis
                role="strong">test read</emphasis> right for a given 
              <emphasis role="strong">user</emphasis> on a given
              <emphasis role="strong">destination</emphasis></simpara>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">set/unset write</emphasis> right
              for a given <emphasis role="strong">user</emphasis> 
              on a given <emphasis role="strong">destination</emphasis></simpara>
          </listitem>
          <listitem>
            <simpara><emphasis role="strong">set/unset write</emphasis> right
              on a given <emphasis
                role="strong">destination</emphasis> for all
              users</simpara> 
          </listitem>
          <listitem>
            <simpara><emphasis
                role="strong">test write</emphasis> right for a given 
              <emphasis role="strong">user</emphasis> on a given
              <emphasis role="strong">destination</emphasis></simpara>
          </listitem>
        </itemizedlist>
        <para>It has to be noted that some of these actions are
          redundant. For example, getting names for all destinations is
          identical to getting names for all queues
          <emphasis>and</emphasis> all topics. It remains to be seen
          if such convenient actions are useful or not...
        </para>
      </sect3>
    </sect2>
    <sect2>
      <title>What Administration does not include</title>
      <para>TODO (describe what will not be taken into account)</para>
    </sect2>
  </sect1>

  <sect1>
    <title>External specifications</title>
    <abstract>
      <para>There are a wide range of ways to administrate JORAM. For
        example, one user will need a command line interface
        to integrate JORAM administration in scripts, another user may
        need a graphical user interface to interact with it and
        another one would like to use JMX to manage JORAM as part of a
        larger system..</para>
      <para>Whatever these users interact with, the actions they want
        are identical, only differing in the way they are presented to
        them. Thus, we need to agree on an external specification for
        administrating JORAM, so that CLI users, GUI users or JMX users
        will share <emphasis>common features</emphasis> but 
        <emphasis>different and independent interactions</emphasis> with
        these features.
      </para>
    </abstract>
    <sect2>
      <title>Administration interfaces</title>
      <para>TODO (UML class and sequence diagrams, Javadoc?)</para>
    </sect2>
  </sect1>

  <sect1>
    <title>Internal Architecture</title>
    <para>TODO (describe <filename>fr.dyade.aaa.joram.admin.Admin</filename>,
      <filename>fr.dyade.aaa.joram.mom.proxies.JmsAdminProxy</filename> as well as requests  
      in <filename>fr.dyade.aaa.joram.mom.jms</filename>)</para>
  </sect1>

  <sect1>
    <title>Administration tools</title>
    <para>We foresee three ways to administrate JORAM:
      <itemizedlist>
        <listitem>
          <simpara>a Command Line interface</simpara>
        </listitem>
        <listitem>
          <simpara>a Graphical User Interface</simpara>
        </listitem>
        <listitem>
          <simpara>JMX</simpara>
        </listitem>
      </itemizedlist>
    </para>
    <sect2>
      <title>Command Line Tools</title>
      <para>TODO (scripted language or Java command line?)</para>
    </sect2>
    <sect2>      
      <title>Graphical Tools</title>
      <para>TODO (AWT, Swing, HTML, SWT,...?)</para>
    </sect2>
    <sect2>
      <title>JMX Tools</title>
      <para>TODO (describe JAdmin)</para>
    </sect2>
  </sect1>
</article>